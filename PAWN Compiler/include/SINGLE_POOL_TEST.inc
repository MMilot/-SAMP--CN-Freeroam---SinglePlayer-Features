#include <YSI\y_hooks>
new Float:OLDHole[][3] = { //-----------------------------球洞
{509.6112, -85.7974, 998.8679},
{510.6183, -85.8011, 998.8679},
{510.6737, -84.8442, 998.8679},
{510.6199, -83.8677, 998.8679},
{509.6112, -83.8877, 998.8675},
{509.5564, -84.8460, 998.8679},
{510.11218261719, -84.40771484375, 998.86785888672},//-----------------------------台球
{510.10882568359, -85.166389465332, 998.86749267578},
{510.14270019531, -85.232612609863, 998.86749267578},
{510.0676574707, -85.232200622559, 998.86749267578},
{510.18600463867, -85.295257568359, 998.86749267578},
{510.11242675781, -85.297294616699, 998.86749267578},
{510.03665161133, -85.299163818359, 998.86749267578},
{510.22308349609, -85.362342834473, 998.86749267578},
{510.14828491211, -85.365989685059, 998.86749267578},
{510.07455444336, -85.365234375, 998.86749267578},
{510.00054931641, -85.363563537598, 998.86749267578},
{510.25915527344, -85.431137084961, 998.86749267578},
{510.18399047852, -85.430549621582, 998.86749267578},
{510.10900878906, -85.43196105957, 998.86749267578},
{510.03570556641, -85.432624816895, 998.86749267578},
{509.96197509766, -85.427406311035, 998.86749267578}
};

enum PHY_HOLEINFO
{
	Float:x,
	Float:y,
	Float:z
};
new PHY_BALLHOLE[6][PHY_HOLEINFO];

hook OnFilterScriptInit()
{
	CreateGameFromAngAngle(506.4844, -84.8359, 997.9375, -1.5708);
	CreateGameFromAngAngle(507.71469, -80.21652, 997.93750, 47.3596);
	
	CreateObject(2964, 507.71469, -80.21652, 997.93750,   356.85840, 0.00000, 47.35955);
	
	return 1;
}

stock CreateGameFromAngAngle(Float:ax,Float:ay,Float:az,Float:rz)
{
	//摆放球
	
	
	
	new BallBaseID = 3003; //OBJ基址
	
	new Float:D1 = ax-510.1016;
	new Float:D2 = ay+84.8359;

	
	//创建球洞	

	for(new i = 0; i < 22; i++)
	{
		new Float:tem[2];
		tem[0] = (OLDHole[i][0] - 510.1016) * floatcos(180-rz,degrees) - (OLDHole[i][1] + 84.8359) * floatsin(180-rz,degrees) + D1 + 510.1016 ;
		tem[1] = (OLDHole[i][0] - 510.1016) * floatsin(180-rz,degrees) + (OLDHole[i][1] + 84.8359) * floatcos(180-rz,degrees) + D2 - 84.8359 ;
		CreateObject(3003,tem[0],tem[1],998.86785889, 0, 0, 0);
		print("run");
	}
	
	
	/*
	for(new j = 6; j < 22; j++)
	{
		PHY_BALLHOLE[j][x] = (OLDHole[j][0] - 510.1016) * floatcos(rz,degrees) - (OLDHole[j][1] + 84.8359) * floatsin(rz,degrees) + D1 + 510.1016 ;
		PHY_BALLHOLE[j][y] = (OLDHole[j][0] - 510.1016) * floatsin(rz,degrees) + (OLDHole[j][1] + 84.8359) * floatcos(rz,degrees) + D2 - 84.8359 ;
		CreateObject(3003,PHY_BALLHOLE[j][x],PHY_BALLHOLE[j][y],998.86785889, 0, 0, 0);
		printf("CreateTrig");
	}
	*/
	//PHY_BALLHOLE[0][x] = ( 509.61123657 - 510.1016) * floatcos(rz,degrees) - (-85.79737091 + 84.8359) * floatsin(rz,degrees) + D1 + 510.1016 ;
	
	

}
